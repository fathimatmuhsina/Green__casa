<%- include('../layouts/adminheader.ejs') %>

  <div class="row">
    <div class="col">
      <nav aria-label="breadcrumb" class=" rounded-3 p-3 mb-4 bg-white">
        <ol class="breadcrumb mb-0">
          <li class="breadcrumb-item"><a href="/admin/home">Home</a></li>
          <li class="breadcrumb-item"><a href="/admin/view-products">Products</a></li>
          <li class="breadcrumb-item active" aria-current="page">Product Detail</li>
        </ol>
      </nav>
    </div>
  </div>

  <section class="hero">
    <div class="container">
      <% if(products) { %>
        <div class="row">
          <div class="col-lg-3">
            <a href="/admin/edit-product?id=<%= products._id %>"><i class="fa-solid fa-pen-to-square"
                style="color: #204f38;" title="Edit Product"> Edit</i></a>
          </div>
          <div class="col-lg-9">
            <h3>
              <%= products.name %>
            </h3>
            <hr>
          </div>
        </div>
    </div>
  </section>

  <!-- content -->
  <section class="pb-5">
    <div class="container">
      <div class="row gx-5">
        <aside class="col-lg-3">
          <div class="border rounded-4 mb-3 d-flex justify-content-center">
            <a class="rounded-4" href="#" onclick="return false;">
              <img id="mainImage" style="max-width: 100%; max-height: 100vh; margin: auto;" class="rounded-4 fit"
                src="/images/<%= products.image[0] %>" />
            </a>
          </div>
          <div class="d-flex justify-content-center mb-3">
            <% products.image.forEach((image, index)=> { %>
              <a class="border mx-1 rounded-2" href="#" class="item-thumb" onclick="return false;">
                <img onclick="updateMainImage('<%= image %>')" width="60" height="60" class="rounded-2"
                  src="/images/<%= image %>" />
              </a>
              <% }) %>
          </div>
        </aside>

        <aside class="col-lg-9">


          <!-- Pills content -->
          <div class="tab-content" id="ex1-content">
            <div class="tab-pane fade show active" id="ex1-pills-1" role="tabpanel" aria-labelledby="ex1-tab-1">
              <p>
                <%= products.description %>
              </p>
              <!-- Pills navs -->
              <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
                <li class="nav-item d-flex" role="presentation">
                  <a class="nav-link d-flex align-items-center justify-content-center w-100 active"
                    style="background-color: #204f38;" id="ex1-tab-1" data-mdb-toggle="pill" href="#ex1-pills-1"
                    role="tab" aria-controls="ex1-pills-1" aria-selected="true"><strong>Specification</strong> </a>
                </li>
              </ul>
              <table class="table border mt-3 mb-2">
                <tr>
                  <th class="py-2">Name</th>
                  <td class="py-2">
                    <%= products.name %>
                  </td>
                </tr>
                <tr>
                  <th class="py-2">Category</th>
                  <td class="py-2">
                    <%= products.category %>
                  </td>
                </tr>
                <tr>
                  <th class="py-2">Original Price</th>
                  <td class="py-2">
                    <%= products.originalprice %>
                  </td>
                </tr>
                <tr>
                  <th class="py-2">Discount Price</th>
                  <td class="py-2">
                    <%= products.discountprice %>
                  </td>
                </tr>
                <tr>
                  <th class="py-2">Review</th>
                  <td class="py-2">4.5</td>
                </tr>
                <tr>
                  <th class="py-2">Stock</th>
                  <td class="py-2">
                    <%= products.stock %>
                  </td>
                </tr>
                <tr>
                  <th class="py-2">Status</th>
                  <td class="py-2">
                    <%= products.is_listed ? 'Listed' : 'Unlisted' %>
                  </td>
                </tr>
              </table>
            </div>
          </div>
          <!-- Pills content -->
        </aside>
      </div>
    </div>
  </section>
  <% } else { %>
    <section class="py-5">
      <div class="container">
        <div class="row gx-5">
          <div class="col-12">
            <p>Products Not Found</p>
          </div>
        </div>
      </div>
    </section>
    <% } %>

      <!-- Footer -->
      <footer class="text-center text-lg-start text-muted mt-3" style="background-color: #204f38;">
        <!-- Section: Links  -->
        <section>
          <div class="container text-center text-md-start pt-4 pb-4">
            <!-- Grid row -->
            <div class="row mt-3">
              <!-- Grid column -->
              <div class="col-12 col-lg-3 col-sm-12 mb-2">
                <!-- Content -->
                <a href="https://mdbootstrap.com/" target="_blank" class="text-white h2">
                  Green Casa
                </a>
                <p class="mt-1 text-white">© 2023 Copyright: MDBootstrap.com</p>
              </div>
              <!-- Grid column -->

              <!-- Grid column -->
              <div class="col-6 col-sm-4 col-lg-2">
                <!-- Links -->
                <h6 class="text-uppercase text-white fw-bold mb-2">Store</h6>
                <ul class="list-unstyled mb-4">
                  <li><a class="text-white-50" href="#">About us</a></li>
                  <li><a class="text-white-50" href="#">Find store</a></li>
                  <li><a class="text-white-50" href="#">Categories</a></li>
                  <li><a class="text-white-50" href="#">Blogs</a></li>
                </ul>
              </div>
              <!-- Grid column -->

              <!-- Grid column -->
              <div class="col-6 col-sm-4 col-lg-2">
                <!-- Links -->
                <h6 class="text-uppercase text-white fw-bold mb-2">Information</h6>
                <ul class="list-unstyled mb-4">
                  <li><a class="text-white-50" href="#">Help center</a></li>
                  <li><a class="text-white-50" href="#">Money refund</a></li>
                  <li><a class="text-white-50" href="#">Shipping info</a></li>
                  <li><a class="text-white-50" href="#">Refunds</a></li>
                </ul>
              </div>
              <!-- Grid column -->

              <!-- Grid column -->
              <div class="col-6 col-sm-4 col-lg-2">
                <!-- Links -->
                <h6 class="text-uppercase text-white fw-bold mb-2">Support</h6>
                <ul class="list-unstyled mb-4">
                  <li><a class="text-white-50" href="#">Help center</a></li>
                  <li><a class="text-white-50" href="#">Documents</a></li>
                  <li><a class="text-white-50" href="#">Account restore</a></li>
                  <li><a class="text-white-50" href="#">My orders</a></li>
                </ul>
              </div>
              <!-- Grid column -->

              <!-- Grid column -->
              <div class="col-12 col-sm-12 col-lg-3">
                <!-- Links -->
                <h6 class="text-uppercase text-white fw-bold mb-2">Newsletter</h6>
                <p class="text-white">Stay in touch with latest updates about our products and offers</p>
                <div class="input-group mb-3">
                  <input type="email" class="form-control border" placeholder="Email" aria-label="Email"
                    aria-describedby="button-addon2" />
                  <button class="btn btn-light border shadow-0" type="button" id="button-addon2"
                    data-mdb-ripple-color="dark">
                    Join
                  </button>
                </div>
              </div>
              <!-- Grid column -->
            </div>
            <!-- Grid row -->
          </div>
        </section>
        <!-- Section: Links  -->

        <div>
          <div class="container">
            <div class="d-flex justify-content-between py-4 border-top">
              <!-- Payment -->
              <div>
                <i class="fab fa-lg fa-cc-visa text-white"></i>
                <i class="fab fa-lg fa-cc-amex text-white"></i>
                <i class="fab fa-lg fa-cc-mastercard text-white"></i>
                <i class="fab fa-lg fa-cc-paypal text-white"></i>
              </div>
              <!-- Payment -->

              <!-- Language selector -->
              <div class="dropdown dropup">
                <a class="dropdown-toggle text-white" href="#" id="Dropdown" role="button" data-mdb-toggle="dropdown"
                  aria-expanded="false">
                  <i class="flag-united-kingdom flag m-0 me-1"></i>English
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="Dropdown">
                  <li><a class="dropdown-item" href="#"><i class="flag-united-kingdom flag"></i>English <i
                        class="fa fa-check text-success ms-2"></i></a></li>
                  <li>
                    <hr class="dropdown-divider" />
                  </li>
                  <li><a class="dropdown-item" href="#"><i class="flag-poland flag"></i>Polski</a></li>
                  <li><a class="dropdown-item" href="#"><i class="flag-china flag"></i>中文</a></li>
                  <li><a class="dropdown-item" href="#"><i class="flag-japan flag"></i>日本語</a></li>
                  <li><a class="dropdown-item" href="#"><i class="flag-germany flag"></i>Deutsch</a></li>
                  <li><a class="dropdown-item" href="#"><i class="flag-france flag"></i>Français</a></li>
                  <li><a class="dropdown-item" href="#"><i class="flag-spain flag"></i>Español</a></li>
                  <li><a class="dropdown-item" href="#"><i class="flag-russia flag"></i>Русский</a></li>
                  <li><a class="dropdown-item" href="#"><i class="flag-portugal flag"></i>Português</a></li>
                </ul>
              </div>
              <!-- Language selector -->
            </div>
          </div>
        </div>
      </footer>

      <script>
        document.addEventListener('DOMContentLoaded', function () {
          const mainImage = document.getElementById('mainImage');
          const zoom = mediumZoom(mainImage);
        });
      </script>

      <script>

        function updateMainImage(imageUrl) {
          document.getElementById("mainImage").src = "/images/" + imageUrl;
        }
        document.getElementById("increaseButton").addEventListener("click", function () {
          var quantityInput = document.getElementById("quantityInput");
          var currentValue = parseInt(quantityInput.value);
          quantityInput.value = currentValue + 1;
        });

        document.getElementById("decreaseButton").addEventListener("click", function () {
          var quantityInput = document.getElementById("quantityInput");
          var currentValue = parseInt(quantityInput.value);
          if (currentValue > 1) {
            quantityInput.value = currentValue - 1;
          }
        });

      </script>

      <script src="https://unpkg.com/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
      <script src="js/jquery-3.3.1.min.js"></script>
      <script src="js/bootstrap.min.js"></script>
      <script src="js/jquery.nice-select.min.js"></script>
      <script src="js/jquery-ui.min.js"></script>
      <script src="js/jquery.slicknav.js"></script>
      <script src="js/mixitup.min.js"></script>
      <script src="js/owl.carousel.min.js"></script>
      <script src="js/main.js"></script>

      <%- include('../layouts/footer.ejs') %>